(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{162:function(e,t){},163:function(e,t,a){e.exports=a(386)},172:function(e,t,a){},18:function(e){e.exports={b:{abi:[{constant:!0,inputs:[],name:"charityDao",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[{name:"_charityDao",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,name:"_user",type:"address"},{indexed:!1,name:"_srcToken",type:"address"},{indexed:!1,name:"_destToken",type:"address"},{indexed:!1,name:"_amount",type:"uint256"}],name:"Swap",type:"event"},{constant:!1,inputs:[{name:"_srcToken",type:"address"},{name:"_destToken",type:"address"},{name:"_amount",type:"uint256"}],name:"swap",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!1,inputs:[{name:"_src",type:"address"},{name:"_dest",type:"address"},{name:"_srcQty",type:"uint256"}],name:"getExpectedRate",outputs:[{name:"",type:"uint256"},{name:"",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"}],networks:{1:{createdBlock:0,address:"0x1429E3A785c260EC6e040Bb72F7a5D861a65c586"},42:{createdBlock:0,address:"0x99d9725d4801a24a710404110794dc4d95f5ebcf"}}},a:{abi:[{constant:!0,inputs:[],name:"totalDonated",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"}],name:"points",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"startOfRoundTimestamp",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"currRound",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"uint256"},{name:"",type:"address"}],name:"indexOfVotesPerRound",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"}],name:"charityExists",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"}],name:"totalExchanged",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"exchange",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"uint256"},{name:"",type:"uint256"}],name:"charitiesInARound",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"uint256"}],name:"charities",outputs:[{name:"submiter",type:"address"},{name:"charityAccount",type:"address"},{name:"name",type:"string"},{name:"desc",type:"string"},{name:"timestamp",type:"uint256"},{name:"state",type:"uint8"},{name:"arrPos",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{constant:!1,inputs:[{name:"_pos",type:"uint256"}],name:"vote",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"payToCharity",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_charityAccount",type:"address"},{name:"_name",type:"string"},{name:"_desc",type:"string"}],name:"addCharity",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_user",type:"address"},{name:"_numPoints",type:"uint256"}],name:"addPoints",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_pos",type:"uint256"}],name:"blacklistCharity",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_exchange",type:"address"}],name:"setExchange",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"getCharities",outputs:[{components:[{name:"submiter",type:"address"},{name:"charityAccount",type:"address"},{name:"name",type:"string"},{name:"desc",type:"string"},{name:"timestamp",type:"uint256"},{name:"state",type:"uint8"},{name:"arrPos",type:"uint256"}],name:"",type:"tuple[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getCurrentState",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"}],networks:{1:{createdBlock:0,address:"0xeC147CC1Ee413E505e430089Ec3a1FAB089f305D"},42:{createdBlock:0,address:"0x6e479813a12e9e6203664d0c871d63ec66d52534"}}},c:{abi:[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"stop",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"guy",type:"address"},{name:"wad",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"owner_",type:"address"}],name:"setOwner",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"src",type:"address"},{name:"dst",type:"address"},{name:"wad",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"guy",type:"address"},{name:"wad",type:"uint256"}],name:"mint",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"wad",type:"uint256"}],name:"burn",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"name_",type:"bytes32"}],name:"setName",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"src",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"stopped",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"authority_",type:"address"}],name:"setAuthority",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"guy",type:"address"},{name:"wad",type:"uint256"}],name:"burn",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"wad",type:"uint256"}],name:"mint",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"dst",type:"address"},{name:"wad",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"dst",type:"address"},{name:"wad",type:"uint256"}],name:"push",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"src",type:"address"},{name:"dst",type:"address"},{name:"wad",type:"uint256"}],name:"move",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"start",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"authority",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"guy",type:"address"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"src",type:"address"},{name:"guy",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"src",type:"address"},{name:"wad",type:"uint256"}],name:"pull",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{inputs:[{name:"symbol_",type:"bytes32"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,name:"guy",type:"address"},{indexed:!1,name:"wad",type:"uint256"}],name:"Mint",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"guy",type:"address"},{indexed:!1,name:"wad",type:"uint256"}],name:"Burn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"authority",type:"address"}],name:"LogSetAuthority",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"}],name:"LogSetOwner",type:"event"},{anonymous:!0,inputs:[{indexed:!0,name:"sig",type:"bytes4"},{indexed:!0,name:"guy",type:"address"},{indexed:!0,name:"foo",type:"bytes32"},{indexed:!0,name:"bar",type:"bytes32"},{indexed:!1,name:"wad",type:"uint256"},{indexed:!1,name:"fax",type:"bytes"}],name:"LogNote",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"src",type:"address"},{indexed:!0,name:"guy",type:"address"},{indexed:!1,name:"wad",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"src",type:"address"},{indexed:!0,name:"dst",type:"address"},{indexed:!1,name:"wad",type:"uint256"}],name:"Transfer",type:"event"}],networks:{1:{createdBlock:0,address:"0xeC147CC1Ee413E505e430089Ec3a1FAB089f305D"},42:{createdBlock:0,address:"0xad67cB4d63C9da94AcA37fDF2761AaDF780ff4a2"}}}}},187:function(e,t){},209:function(e,t){},211:function(e,t){},280:function(e,t){},327:function(e,t){function a(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id=327},372:function(e,t,a){},374:function(e,t,a){},376:function(e,t,a){},379:function(e,t,a){},383:function(e,t,a){},386:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(64),o=a.n(r),c=a(26),i=(a(172),a(1)),u=a.n(i),p=a(4),l=a(34),d=a(35),m=a(37),y=a(36),b=a(38),f=a(67),h=a(88),w=a(158),v=a.n(w),E=function(){return new Promise(function(e,t){window.addEventListener("load",Object(p.a)(u.a.mark(function a(){var n,s;return u.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!window.ethereum){a.next=13;break}return n=new v.a(window.ethereum),a.prev=2,a.next=5,window.ethereum.enable();case 5:e(n),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(2),t(a.t0);case 11:a.next=14;break;case 13:window.web3?(s=window.web3,console.log("Injected web3 detected."),e(s)):console.log("no web 3");case 14:case"end":return a.stop()}},a,null,[[2,8]])})))})},g=a(52),x=a(17),k=a(159),O=a.n(k),N=(a(372),a(66)),C=a(18),M=function(){var e=Object(p.a)(u.a.mark(function e(t,a,n,s,r,o,c){var i,p,l,d,m;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,i=D(s,n),p=D(r,n),l=t.utils.toWei(o,"ether"),d=C.b.networks[n].address,"ETH"===s){e.next=8;break}return e.next=8,_(t,i,c,d);case 8:return m=0,"ETH"===s&&(m=l),e.next=12,a.methods.swap(i,p,l).send({from:c,value:m});case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}},e,null,[[0,14]])}));return function(t,a,n,s,r,o,c){return e.apply(this,arguments)}}(),j=function(){var e=Object(p.a)(u.a.mark(function e(t,a,n,s,r,o){var c,i,p,l;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=D(s,n),i=D(r,n),p=t.utils.toWei(o,"ether"),e.next=6,a.methods.getExpectedRate(c,i,p).call();case 6:return l=e.sent,console.log(l[0]),e.abrupt("return",l[0]/1e18);case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t,a,n,s,r,o){return e.apply(this,arguments)}}(),D=function(e,t){var a=N[e];if(a)return a[t].address},_=function(){var e=Object(p.a)(u.a.mark(function e(t,a,n,s){var r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=new t.eth.Contract(C.c.abi,a),e.next=4,r.methods.allowance(n,s).call();case 4:if("0"!==e.sent){e.next=8;break}return e.next=8,r.methods.approve(s,t.utils.toWei(Number.MAX_SAFE_INTEGER.toString(),"ether")).send({from:n});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t,a,n,s){return e.apply(this,arguments)}}(),A=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(y.a)(t).call(this,e))).state={from:"ETH",to:"DAI",amount:"",price:"0",charityTheme:{}},a.estimatePrice=a.estimatePrice.bind(Object(x.a)(Object(x.a)(a))),a.handleChange=a.handleChange.bind(Object(x.a)(Object(x.a)(a))),a.swap=a.swap.bind(Object(x.a)(Object(x.a)(a))),a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"handleChange",value:function(e){var t;this.setState((t={},Object(g.a)(t,e.target.name,e.target.value),Object(g.a)(t,"price","0"),t),this.estimatePrice)}},{key:"estimatePrice",value:function(){var e=Object(p.a)(u.a.mark(function e(){var t,a,n,s,r,o,c,i,p,l;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state,a=t.from,n=t.to,s=t.amount,r=this.props,o=r.networkId,c=r.swapContract,i=r.web3,!((p=s.toString()).length>0)){e.next=7;break}if("."!==p[p.length-1]){e.next=7;break}return this.setState({price:0}),e.abrupt("return");case 7:return e.next=9,j(i,c,o,a,n,s);case 9:l=e.sent,this.setState({price:l});case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"swap",value:function(){var e=Object(p.a)(u.a.mark(function e(){var t,a,n,s,r,o,c,i,p;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Swap!"),t=this.state,a=t.from,n=t.to,s=t.amount,r=this.props,o=r.web3,c=r.account,i=r.networkId,p=r.swapContract,e.next=5,M(o,p,i,a,n,s,c);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.from,n=t.to,r=t.price,o=t.amount;return s.a.createElement("div",{className:"exchange-page"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-5"},s.a.createElement("select",{className:"form-control form-control-lg",onChange:this.handleChange,name:"from",value:a},s.a.createElement("option",null,"ETH"),s.a.createElement("option",null,"DAI"),s.a.createElement("option",null,"MKR"),s.a.createElement("option",null,"KNC"),s.a.createElement("option",null,"OMG"))),s.a.createElement("div",{className:"col-lg-2 text-center"},s.a.createElement("span",{className:"glyphicon glyphicon-arrow-right","aria-hidden":"true"})),s.a.createElement("div",{className:"col-lg-5"},s.a.createElement("select",{className:"form-control form-control-lg",onChange:this.handleChange,name:"to",value:n},s.a.createElement("option",null,"DAI"),s.a.createElement("option",null,"MKR"),s.a.createElement("option",null,"ETH"),s.a.createElement("option",null,"OMG"),s.a.createElement("option",null,"KNC")))),s.a.createElement("br",null),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-5"},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"text",className:"form-control",name:"amount",onChange:this.handleChange,placeholder:"".concat(a," amount"),value:o}))),s.a.createElement("div",{className:"col-lg-2 text-center"},s.a.createElement("span",{className:"glyphicon glyphicon-arrow-right","aria-hidden":"true"})),s.a.createElement("div",{className:"col-lg-5"},s.a.createElement("div",{className:"price-estimate price"},O()(parseFloat(o)||0).times(r||0).toDecimalPlaces(2).toString()," ",n))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-6 col-lg-offset-3"},s.a.createElement("button",{type:"button",className:"btn btn-primary btn-lg btn-block",onClick:function(){return e.swap()}},"Swap"))))}}]),t}(n.Component),T=Object(c.b)(function(e){return{swapContract:e.web3Reducer.swapContract,networkId:e.web3Reducer.networkId,web3:e.web3Reducer.web3,account:e.web3Reducer.account}},{})(A),S=(a(374),function(){var e=Object(p.a)(u.a.mark(function e(t){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.methods.getCharities().call();case 3:return a=e.sent,e.abrupt("return",a);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()),I=function(){var e=Object(p.a)(u.a.mark(function e(t,a,n,s){var r,o,c,i,p;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=C.c.networks[a].address,o=N.DAI[a].address,c=new t.eth.Contract(C.c.abi,r),e.next=6,c.methods.balanceOf(n).call();case 6:return i=e.sent,e.next=9,s.methods.getExpectedRate(r,o,i).call();case 9:return p=e.sent,i/=1e18,console.log(i,p),e.abrupt("return",i*p[0]);case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}},e,null,[[0,15]])}));return function(t,a,n,s){return e.apply(this,arguments)}}(),F=function(){var e=Object(p.a)(u.a.mark(function e(t){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.methods.totalDonated().call();case 3:return a=e.sent,console.log(parseFloat(a)),e.abrupt("return",parseFloat(a)/1e18);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(p.a)(u.a.mark(function e(t,a){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.methods.totalExchanged(a).call();case 3:return n=e.sent,e.abrupt("return",n/1e18*75e-5);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t,a){return e.apply(this,arguments)}}(),P=function(){var e=Object(p.a)(u.a.mark(function e(t,a){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.methods.points(a).call();case 3:return n=e.sent,e.abrupt("return",n/1e18);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t,a){return e.apply(this,arguments)}}(),B=function(){var e=Object(p.a)(u.a.mark(function e(t,a,n){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.methods.vote(a).send({from:n});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}},e,null,[[0,5]])}));return function(t,a,n){return e.apply(this,arguments)}}(),V=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(y.a)(t).call(this,e))).state={},a.vote=a.vote.bind(Object(x.a)(Object(x.a)(a))),a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.props.getCharities(),e.props.getVotingPowerForUser()},1e3)}},{key:"vote",value:function(){var e=Object(p.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Vote!"),this.props.callVote(t);case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return console.log(this.props.userVotingPower),s.a.createElement("div",{className:"charities-page"},s.a.createElement("p",null,"Each 30 days the Charity Swap DAO decides which organisation gets the month's donation pool. You can use the power you earn by swapping tokens to influence which charity gets the pool."),s.a.createElement("p",null,"Your voting power: ",s.a.createElement("b",null,this.props.userVotingPower)),s.a.createElement("div",{className:"charity-list"},this.props.charities.map(function(t){return s.a.createElement("div",{className:"charity-item",key:t.arrPos},s.a.createElement("h2",null,t.name),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-10"},s.a.createElement("h3",null,t.desc)),s.a.createElement("div",{className:"col-lg-2"},s.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){return e.vote(t.arrPos)}},"Vote"))))})))}}]),t}(n.Component),H={getCharities:function(){return function(){var e=Object(p.a)(u.a.mark(function e(t,a){var n,s;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a().web3Reducer.daoContract,e.next=3,S(n);case 3:s=e.sent,console.log(s),s||(s=[]),t({type:"CHARITIES",payload:{charities:s}});case 7:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},getVotingPowerForUser:function(){return function(){var e=Object(p.a)(u.a.mark(function e(t,a){var n,s,r,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a().web3Reducer,s=n.daoContract,r=n.account,e.next=3,P(s,r);case 3:o=e.sent,console.log("Voting power: ",o),t({type:"USER_VOTING_POWER",payload:o});case 6:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},callVote:function(e){return function(){var t=Object(p.a)(u.a.mark(function t(a,n){var s,r,o;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=n().web3Reducer,r=s.daoContract,o=s.account,t.next=3,B(r,e,o);case 3:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}()}},U=Object(c.b)(function(e){return{charities:e.dao.charities,userVotingPower:e.dao.userVotingPower}},H)(V),L=(a(376),a(379),a(383),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(y.a)(t).call(this,e))).componentDidMount=Object(p.a)(u.a.mark(function e(){var t,n,s,r,o,c,i,p,l;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[{description:"Help fight climate change with every crypto swap. ",color:"#41bb78"},{description:"Help education in Ukraine with every crypto swap. ",color:"#36A4E1"},{description:"Help deliver vaccines to Congo with every crypto swap. ",color:"#DC6700"},{description:"Help deliver clean water to Madagascar with every crypto swap. ",color:"#B43442"}],a.setState({charityTheme:t[Math.floor(Math.random()*t.length)]}),e.prev=2,e.next=5,E();case 5:return n=e.sent,e.next=8,n.eth.getAccounts();case 8:return s=e.sent,e.next=11,n.eth.net.getId();case 11:return 42!==(r=e.sent)&&alert("Please switch over to Kovan testnet"),o=new n.eth.Contract(C.b.abi,C.b.networks[r].address),c=new n.eth.Contract(C.a.abi,C.a.networks[r].address),a.props.setWeb3Data(n,s[0],r,c,o),e.next=18,F(c);case 18:return i=e.sent,e.next=21,R(c,s[0]);case 21:return p=e.sent,e.next=24,I(n,r,C.a.networks[r].address,o);case 24:l=e.sent,a.setState({web3:n,account:s[0],networkId:r,charityDao:c,charitySwap:o,totalDonation:i,userDonation:p,monthlyDonation:l},a.fetchEvents),e.next=32;break;case 28:e.prev=28,e.t0=e.catch(2),alert("Failed to load web3, accounts, or contract. Check console for details."),console.error(e.t0);case 32:case"end":return e.stop()}},e,null,[[2,28]])})),a.fetchEvents=Object(p.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})),a.state={account:null,web3:null,charitySwap:null,charityDao:null,charityTheme:{},totalDonation:0,userDonation:0,monthlyDonation:0},a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.state,t=e.charityTheme,a=e.totalDonation,n=e.userDonation,r=e.monthlyDonation;return console.log(r),s.a.createElement(f.a,null,s.a.createElement("div",{className:"content-body"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row heading"},s.a.createElement("div",{className:"col-lg-12"},s.a.createElement(f.b,{to:"/"},s.a.createElement("h1",null,"Charity Swap")),s.a.createElement("h3",null,t.description))),s.a.createElement("style",null,"\n                :root {\n                  --primary: ".concat(t.color,";\n                }\n              ")),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-9"},s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-body"},s.a.createElement(h.c,null,s.a.createElement(h.a,{exact:!0,path:"/",component:T}),s.a.createElement(h.a,{exact:!0,path:"/charities",component:U}))))),s.a.createElement("div",{className:"col-lg-3 sidebar-wrapper"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"card gradient-1"},s.a.createElement("div",{className:"card-body"},s.a.createElement("h3",{className:"card-title text-white"},"Total donated "),s.a.createElement("div",{className:"d-inline-block"},s.a.createElement("h2",{className:"text-white"},a,"$"),s.a.createElement(f.b,{to:"/charities"},"Browse charities")),s.a.createElement("span",{className:"float-right display-5 opacity-5"},s.a.createElement("i",{className:"fa fa-money"}))))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"card gradient-4"},s.a.createElement("div",{className:"card-body"},s.a.createElement("h3",{className:"card-title text-white"},"This month:"),s.a.createElement("div",{className:"d-inline-block"},s.a.createElement("h2",{className:"text-white"},r,"$")),s.a.createElement("span",{className:"float-right display-5 opacity-5"},s.a.createElement("i",{className:"fa fa-users"}))))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"card gradient-2"},s.a.createElement("div",{className:"card-body"},s.a.createElement("h3",{className:"card-title text-white"},"Your donations:"),s.a.createElement("div",{className:"d-inline-block"},s.a.createElement("h2",{className:"text-white"},n.toFixed(6),"$")),s.a.createElement("span",{className:"float-right display-5 opacity-5"},s.a.createElement("i",{className:"fa fa-heart"}))))))))))}}]),t}(n.Component)),K={setWeb3Data:function(e,t,a,n,s){return function(){var r=Object(p.a)(u.a.mark(function r(o){return u.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:o({type:"SET_DATA",payload:{web3:e,account:t,networkId:a,daoContract:n,swapContract:s}});case 1:case"end":return r.stop()}},r)}));return function(e){return r.apply(this,arguments)}}()}},W=Object(c.b)(function(e){return{}},K)(L),G=a(30),X=a(161),Y=a(39),$={charities:[],totalDonations:"0",userVotingPower:0},J=a(162),Q=a.n(J),q={account:null,networkId:0,web3:null,daoContract:null,swapContract:null},z=Object(G.c)({dao:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"INITIAL_DAO_DATA":case"CHARITIES":return Object(Y.a)({},e,{charities:n.charities});case"USER_VOTING_POWER":return Object(Y.a)({},e,{userVotingPower:n});default:return e}},web3Reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"SET_DATA":return Object(Y.a)({},e,{web3:n.web3,account:n.account,networkId:n.networkId.toString(),daoContract:n.daoContract,swapContract:n.swapContract});default:return e}},swapReducer:Q.a}),Z=window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),ee=Object(G.a)(X.a)(G.d)(z,Z);window.store=ee;var te=ee;o.a.render(s.a.createElement(c.a,{store:te},s.a.createElement(W,null)),document.getElementById("root"))},66:function(e){e.exports={ETH:{1:{address:"0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE",decimals:18},42:{address:"0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE",decimals:18}},DAI:{1:{address:"0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359",decimals:18},42:{address:"0xC4375B7De8af5a38a93548eb8453a498222C4fF2",decimals:18}},MKR:{1:{address:"0xAaF64BFCC32d0F15873a02163e7E500671a4ffcD",decimals:18},42:{address:"0xAaF64BFCC32d0F15873a02163e7E500671a4ffcD",decimals:18}},KNC:{1:{address:"0xad67cB4d63C9da94AcA37fDF2761AaDF780ff4a2",decimals:18},42:{address:"0xad67cB4d63C9da94AcA37fDF2761AaDF780ff4a2",decimals:18}},OMG:{1:{address:"0xad67cB4d63C9da94AcA37fDF2761AaDF780ff4a2",decimals:18},42:{address:"0xdB7ec4E4784118D9733710e46F7C83fE7889596a",decimals:18}}}}},[[163,2,1]]]);
//# sourceMappingURL=main.189ae1c1.chunk.js.map